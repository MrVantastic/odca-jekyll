{% assign color = include.color | default: "blue" %}
{% assign maximum = include.max | default: 100 %}
{% assign width = include.value | divided_by: maximum | times: 100 %}
{% case include.format %}
{% when 'percent' %}
{% assign display = width | floor | append: '%' %}
{% else %}
{% assign display = include.value | times: 100 | money %}
{% endcase %}


<div class="money-bar">
  <div class="money-bar__label">{{ include.label }}</div>
  <div class="money-bar__measure-container">
    <div class="money-bar__measure money-bar__measure--{{ color }}" style="width: {{ width }}%;">
      <span class="money-bar__money money-bar__money--inline">{{ display }}</span>
    </div>
    <span class="money-bar__money">{{ display }}</span>
  </div>
</div>
